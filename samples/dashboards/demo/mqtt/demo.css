@import url("https://code.highcharts.com/css/highcharts.css");
@import url("https://code.highcharts.com/dashboards/css/datagrid.css");
@import url("https://code.highcharts.com/dashboards/css/dashboards.css");

/* *
 *
 *  Common
 *
 * */

:root {
    --color-background: #fff;
    --color-component-title: rgb(42, 165, 71);
    --color-sk: rgb(0, 112, 192);
    --color-tooltip-background: #f0f0f0;
    --color-tooltip-text: #000;
    --chart-row-height: 300px;
    --info-row-height: 450px;
}

/* Colors */

.el-kpi {
    --color-axis-labels: #a7a4b0;
    --color-background: #fff;
    --color-gauge: #4caffe;
    --color-hover: #5352be;
    --color-active: #336;
    --color-hover-text: #fff;
    --color-pane: #eee;
    --color-pane-line: #ccc;
    --color-text: #2f2b38;
}

.el-aggr,
#el-info {
    --color-axis-labels: #a7a4b0;
    --color-background: #fff;
    --color-gauge: #4caffe;
    --color-hover: #5352be;
    --color-active: #336;
    --color-pane: #eee;
    --color-pane-line: #ccc;
    --color-text: #2f2b38;
    --color-table-bg: #fff;
    --color-table-td: #f0f0f8;
}

#el-info {
    --color-header: #000;
    --color-unit: green;
    --color-table-caption: var(--color-sk);
}

#el-map {
    --color-background: #b5d2e4;
    --color-map: #dddbef;
    --color-marker-border: #fff;
    --color-title-text: #fff;
    --color-marker-border-active: #336;
    --color-marker-border-hover: #acebe0;
    --color-marker-text: #fff;
    --color-marker-text-border: #000;
    --color-navigation: #f7f7f7;
    --color-navigation-line: #838393;
    --color-navigation-text: #20202b;
    --color-text: #000;
    --color-text-border: #fff;
}

@media (prefers-color-scheme: dark) {
    /* dark mode */
    :root {
        --color-background: #000;
        --color-component-title: rgb(160, 238, 160);
    }

    .el-aggr,
    #el-info {
        --color-axis-labels: #838394;
        --color-background: #0d0d0d;
        --color-pane: #20202c;
        --color-pane-line: #838394;
        --color-text: #dadae2;
        --color-table-bg: #ccc;
        --color-table-td: #333;
    }

    #el-info {
        --color-header: #fff;
        --color-unit: #f0f0f0;
        --color-table-caption: rgb(148, 183, 212);
    }

    .el-kpi {
        --color-axis: #dfdfee;
        --color-background: #0d0d0d;
        --color-pane: #20202c;
        --color-pane-line: #838394;
        --color-text: #dadae2;
        --color-title: #ccc;
    }
}

/* *
 *
 *  Common to all Dashboards components
 *
 * */

.highcharts-dashboards-component-title {
    white-space: nowrap;
    font-size: 16px;
    letter-spacing: 1.5px;
    color: var(--color-component-title);
    text-align: center;
    margin: 5px 0;
    padding: 0;
}

.highcharts-tooltip {
    fill: none;
    filter: none;
    stroke: none;
}

.highcharts-tooltip text {
    fill: var(--color-tooltip-text);
}

.highcharts-tooltip-box {
    fill: var(--color-tooltip-background);
    fill-opacity: 1;
    stroke: none;
}

/* *
 *
 *  Control/status bar (first row)
 *
 * */

div#connect_bar {
    display: flex;
    justify-content: space-between;
    align-items: center;
    border-radius: 5px;
    background-color: #336;
    padding: 5px;
    font-size: 14px;
    color: white;
}

div#connect_bar h1 {
    padding: 0 5%;
    font-size: 2.5vw;
}

div#connect_bar #connect_status {
    font-weight: bold;
    color: #dadae2;
    font-size: 0.8vw;
}

div#connect_bar label span {
    margin-right: 5px;
    color: white;
    padding: 16px;
    font-size: 14px;
    border: none;
}

div#connect_bar button:hover {
    background-color: #41c6c1;
    cursor: pointer;
}

/* From: https://www.educative.io/answers/how-to-create-a-toggle-switch-with-css */
#connect_switch #connect_toggle {
    display: none;
}

#connect_switch label {
    display: inline-block;
    width: 40px;
    height: 20px;
    background-color: #ccc;
    border-radius: 10px;
    position: relative;
    cursor: pointer;
    margin-left: 32px;
}

#connect_switch label::before {
    content: "";
    position: absolute;
    top: 2px;
    left: 2px;
    width: 16px;
    height: 16px;
    background-color: white;
    border-radius: 50%;
    transition: transform 0.3s;
}

#connect_switch #connect_toggle:checked + label {
    background-color: #2196f3;
}

#connect_switch #connect_toggle:checked + label::before {
    transform: translateX(20px);
}

/* Dropdown Button (from w3schools.com) */
.dropdown-button {
    background-color: #3498db;
    color: white;
    padding: 10px;
    font-size: 1.5vw;
    border: none;
    cursor: pointer;
}

/* Dropdown button on hover & focus */
.dropdown-button:hover,
.dropdown-button:focus {
    background-color: #def;
}

/* The container <div> - needed to position the dropdown content */
#dropdown-container {
    position: relative;
    display: inline-block;
    visibility: hidden; /* Visible on connect */
}

/* Dropdown Content  */
.dropdown-content {
    display: none;
    position: absolute;
    background-color: #def;
    min-width: 50px;
    box-shadow: 0 8px 16px 0 rgba(0, 0, 0, 0.2);
    z-index: 1;
}

/* Links inside the dropdown */
.dropdown-content a {
    color: black;
    padding: 12px 16px;
    text-decoration: none;
    display: block;
}

/* Change color of dropdown links on hover */
.dropdown-content a:hover {
    background-color: #ddd;
}

/* Show the dropdown menu */
.show {
    display: block;
}

div.highcharts-description {
    margin: auto;
    padding: 20px;
}

/* *
 *
 *  KPI
 *
 * */

.el-kpi .highcharts-dashboards-component-title {
    white-space: nowrap;
}

.el-kpi #kpi-data .highcharts-dashboards-component-kpi-value {
    margin: 0.5em 0;
}

.el-kpi .highcharts-dashboards-component-kpi-content {
    background: none;
}

.el-kpi .highcharts-dashboards-component-kpi-chart-container .highcharts-axis-labels text {
    fill: var(--color-axis);
    stroke: none;
}

.el-kpi .highcharts-dashboards-component-kpi-chart-container .highcharts-background {
    fill: none;
    stroke: none;
}

.el-kpi .highcharts-dashboards-component-kpi-chart-container .highcharts-pane {
    fill: var(--highcharts-neutral-color-5);
    fill-opacity: 1;
    stroke: var(--highcharts-neutral-color-20);
}

.el-kpi .highcharts-dashboards-component-kpi-chart-container .highcharts-series .highcharts-color-0 {
    fill: var(--color-gauge);
    stroke: none;
}

/*
* Dashboards styles
*/

.highcharts-dashboards-component {
    background-color: var(--highcharts-neutral-color-0);
    color: var(--highcharts-neutral-color-100);
    border-radius: 10px;
}

#container {
    padding: 10px;
    background-color: var(--highcharts-neutral-color-5);
}

.row {
    display: flex;
    flex-wrap: wrap;
    flex-direction: row;
}

.cell {
    flex: 1;
    min-width: 20px;
}

.cell > .highcharts-dashboards-component {
    position: relative;
    margin: 10px;
    background-clip: border-box;
    background-color: var(--highcharts-background-color);
}

.el-aggr {
    min-width: 0;
    flex: 1;
}

#el-info,
#el-map {
    display: flex;
    flex-direction: column;
    min-width: 0;
    max-height: var(--info-row-height);
    flex: 1;
}

.el-kpi,
.data-grid {
    flex: 1 1 25%;
    max-height: var(--chart-row-height);
}

.el-chart {
    flex: 1 1 50%;
    max-height: var(--chart-row-height);
}

.el-kpi .highcharts-dashboards-component-kpi-value {
    display: none;
}

/* *
 *
 *  Information panel (Custom HTML)
 *
 * */

div#info-container {
    padding: 5px;
    margin: 0;
    overflow: auto;

    & h3 {
        padding: 0;
        margin: 0;
        text-align: center;
        font-size: 10px;
    }

    & p {
        text-align: center;
        font-size: 10px;
    }
}

#el-info table.intake {
    margin-top: 10px;
    font-size: 12px;
    background-color: var(--color-table-bg);
    width: 100%;

    & caption {
        color: var(--color-table-caption);
        font-size: 13px;
        font-weight: bold;
    }

    & th {
        text-align: left;
        background-color: var(--color-table-td);
        color: var(--color-header);
        padding: 5px;

        & span.unit {
            display: block;
            font-size: 10px;
            font-weight: normal;
            color: var(--color-unit);
        }
    }

    & th:nth-of-type(1) {
        width: 20%;
    }

    & th:nth-of-type(2) {
        width: 20%;
    }

    & td {
        padding: 3px;
        background-color: var(--color-table-td);
        color: var(--color-text);
    }
}

#el-info h3.intake {
    padding: 10px;
    color: var(--color-sk);
    font-size: 13px;
}

span.unit {
    font-size: 10px;
    font-weight: bold;
    color: green;
}

/* *
 *
 *  Map
 *
 * */

#el-map .highcharts-dashboards-component-content {
    background: var(--color-background);
    border-radius: 5px;
}

#el-map .highcharts-background {
    fill: var(--color-background);
}

#el-map text.highcharts-credits {
    fill: var(--color-map);
}

#el-map text.highcharts-credits a {
    fill: var(--color-map);
}

#el-map .highcharts-halo {
    display: none;
}

#el-map .highcharts-map-navigation {
    fill: var(--highcharts-neutral-color-5);
    font-size: 20px;
    stroke: var(--highcharts-neutral-color-20);
}

#el-map .highcharts-map-navigation text {
    fill: var(--color-navigation-text);
}

#el-map .highcharts-series-0 .highcharts-point {
    fill: var(--color-map);
    stroke: var(--color-background);
}

#el-map .highcharts-series-0.highcharts-series-inactive {
    opacity: 0.6;
}

#el-map .highcharts-series-1 .highcharts-data-label:nth-child(odd) {
    font-size: 12px;
}

#el-map .highcharts-series-1 .highcharts-data-label text {
    fill: var(--color-text);
    paint-order: stroke;
    stroke: var(--color-text-border);
    stroke-width: 2px;
}

#el-map .highcharts-series-1 .highcharts-data-label:nth-child(even) {
    pointer-events: none;
}

#el-map .highcharts-series-1 .highcharts-data-label:nth-child(even) text {
    fill: var(--color-marker-text);
    stroke: var(--color-marker-text-border);
    stroke-width: 1.5px;
}

#el-map .highcharts-series-1 .highcharts-point {
    paint-order: stroke;
    stroke: var(--color-marker-border);
    stroke-width: 2;
    cursor: pointer;
}

#el-map .highcharts-series-1 .highcharts-point-select {
    stroke-width: 8;
    stroke: var(--color-marker-border-active);
}

#el-map .highcharts-series-1 .highcharts-point:hover {
    stroke-width: 4;
    stroke: var(--color-marker-border-hover);
}

#el-map .highcharts-zoom-in text {
    transform: translate(1px, -1px);
}

#el-map .highcharts-zoom-out text {
    transform: translate(2px, -1px);
}

.el-aggr .highcharts-dashboards-cell-state-active .highcharts-dashboards-component {
    background-color: var(--color-active);
    color: var(--color-hover-text);
}

.el-aggr .highcharts-dashboards-cell-state-hover:hover .highcharts-dashboards-component {
    background-color: var(--color-hover);
    color: var(--color-hover-text);
}

.el-aggr .highcharts-dashboards-cell-state-active text {
    fill: var(--color-hover-text);
}

.el-aggr .highcharts-dashboards-cell-state-hover:hover text {
    fill: var(--color-hover-text);
}

.el-aggr .highcharts-dashboards-cell-state-active .highcharts-axis-labels text {
    fill: var(--color-hover-text);
}

.el-aggr .highcharts-dashboards-cell-state-hover:hover .highcharts-axis-labels text {
    fill: var(--color-hover-text);
}

@media (max-width: 992px) {
    .row {
        flex-direction: column;
    }
}

@media (max-width: 576px) {
    .row {
        flex-direction: column;
    }

    .el-info,
    .el-map,
    .el-aggr {
        flex: unset;
        width: 100%;
    }
}
