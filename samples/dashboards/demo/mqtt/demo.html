<script src="https://code.highcharts.com/highcharts.js"></script>
<script src="https://code.highcharts.com/dashboards/datagrid.js"></script>
<script src="https://code.highcharts.com/dashboards/dashboards.js"></script>
<script src="https://code.highcharts.com/highcharts-more.js"></script>
<script src="https://code.highcharts.com/maps/modules/map.js"></script>
<script src="https://code.highcharts.com/maps/modules/tiledwebmap.js"></script>
<script src="https://code.highcharts.com/modules/solid-gauge.js"></script>
<script src="https://code.highcharts.com/modules/accessibility.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/paho-mqtt/1.0.1/mqttws31.js" type="text/javascript"></script>

<link rel="shortcut icon"
    href="https://wp-assets.highcharts.com/www-highcharts-com/blog/wp-content/uploads/2021/05/19085042/favicon-1.ico">

<!-- Dashboards container -->
<div id="container">
    <!-- Top row, control and status bar -->
    <div class="row">
        <div class="cell" id="connect-bar">
            <!-- Left "logo": data provider -->
            <h1>Sognekraft</h1>
            <!-- Switch for connecting/disconnecting the MQTT server -->
            <div id="connect-switch">
                <input id="connect-toggle" type="checkbox"></input>
                <label for="connect-toggle"></label>
            </div>
            <!-- Dropdown for selecting power station -->
            <div id="dropdown-container">
                <button id="dropdown-button"></button>
                <div id="dropdown-content" class="dropdown-content">
                    <!-- Populated dynamically, e.g 
						<a class="dropdown-select" href="#">Kr√•keelvi</a>
					-->
                </div>
            </div>
            <span id="connect-status"></span>
            <!-- Right "logo": data visualizer -->
            <h1>Highcharts</h1>
        </div>
    </div>
    <!-- Two rows for the power plant, i.e up to 2 generators ("aggregat") each -->
    <div class="row el-aggr">
        <div class="cell el-kpi" id="kpi-agg-1"></div>
        <div class="cell el-chart" id="chart-agg-1"></div>
        <div class="cell data-grid" id="data-grid-1"></div>
    </div>
    <div class="row el-aggr">
        <div class="cell el-kpi" id="kpi-agg-2"></div>
        <div class="cell el-chart" id="chart-agg-2"></div>
        <div class="cell data-grid" id="data-grid-2"></div>
    </div>
    <!-- Bottom row: information (custom HTML) and Highcharts map -->
    <div class="row el-info">
        <div class="cell" id="el-info"></div>
        <div class="cell" id="el-map"></div>
    </div>
</div>

<div class="highcharts-description">
    <p>
        This application displays key data from a selection of power generation plants in the county of Vestland,
        Norway. The data set contains information about the power station, and also of water intakes and
        water reservoirs (providing these exist). The data are provided by <b>Sognekraft</b>.
    </p>
    <p>How to use</p>
    <ul>
        <li>Click the switch in the top bar to connect to <b>Sognekraft</b>'s MQTT server.</li>
        <li>When connecting succeeds, a selection of power plants becomes available in the <b>Power Station</b>
            dropdown.</li>
        <li>Select any of the power stations. This subscribes to the MQTT subjected that are particular to each power
            station. The reporting interval is determined by the server but will normally be every five minutes.
        </li>
        <li>The application only displays data for one power station at a time.</li>
    </ul>
</div>